{
    "openapi": "3.1.0",
    "info": {
        "title": "Conversations",
        "version": "1.0.0",
        "x-clan-group": "tickets",
        "x-module-group": "tickets"
    },
    "x-entity": "Conversations",
    "paths": {},
    "components": {
        "schemas": {
            "conversationThreadResponse": {
                "oneOf": [
                    {
                        "allOf": [
                            {
                                "$ref": "./Thread.json#/components/schemas/threadKeys"
                            },
                            {
                                "type": "object",
                                "properties": {
                                    "type": {
                                        "type": "string",
                                        "description": "Type of the conversations",
                                        "enum": [
                                            "thread"
                                        ]
                                    }
                                },
                                "required": [
                                    "type"
                                ]
                            }
                        ]
                    },
                    {
                        "allOf": [
                            {
                                "$ref": "./Thread.json#/components/schemas/facebookThreadKeys"
                            },
                            {
                                "type": "object",
                                "properties": {
                                    "type": {
                                        "type": "string",
                                        "description": "Type of the conversations",
                                        "enum": [
                                            "thread"
                                        ]
                                    }
                                },
                                "required": [
                                    "type"
                                ]
                            }
                        ]
                    },
                    {
                        "allOf": [
                            {
                                "$ref": "./Thread.json#/components/schemas/twitterThreadKeys"
                            },
                            {
                                "type": "object",
                                "properties": {
                                    "type": {
                                        "type": "string",
                                        "description": "Type of the conversations",
                                        "enum": [
                                            "thread"
                                        ]
                                    }
                                },
                                "required": [
                                    "type"
                                ]
                            }
                        ]
                    },
                    {
                        "allOf": [
                            {
                                "$ref": "./Thread.json#/components/schemas/forumThreadKeys"
                            },
                            {
                                "type": "object",
                                "properties": {
                                    "type": {
                                        "type": "string",
                                        "description": "Type of the conversations",
                                        "enum": [
                                            "thread"
                                        ]
                                    }
                                },
                                "required": [
                                    "type"
                                ]
                            }
                        ]
                    },
                    {
                        "allOf": [
                            {
                                "$ref": "./Thread.json#/components/schemas/emailThreadKeys"
                            },
                            {
                                "type": "object",
                                "properties": {
                                    "type": {
                                        "type": "string",
                                        "description": "Type of the conversations",
                                        "enum": [
                                            "thread"
                                        ]
                                    }
                                },
                                "required": [
                                    "type"
                                ]
                            }
                        ]
                    },
                    {
                        "allOf": [
                            {
                                "$ref": "./TicketComment.json#/components/schemas/commentCommonResponse"
                            },
                            {
                                "type": "object",
                                "properties": {
                                    "modifiedTime": {
                                        "type": [
                                            "string"
                                        ],
                                        "maxLength": 100,
                                        "minLength": 0,
                                        "pattern": "(((19|20)\\d\\d)[-/.]{1}(0?[1-9]|1[012])[-/.]{1}(0?[1-9]|[12][0-9]|3[01])(T)([01]?[0-9]|2[0-3]):[0-5]?[0-9]:[0-5]?[0-9]([/.][\\d]{0,3})?(Z))"
                                    },
                                    "type": {
                                        "type": "string",
                                        "description": "Type of the conversations",
                                        "enum": [
                                            "comment"
                                        ]
                                    }
                                }
                            }
                        ]
                    }
                ]
            },
            "data": {
                "type": [
                    "array"
                ],
                "items": {
                    "$ref": "#/components/schemas/conversationThreadResponse"
                }
            },
            "generalThreadResponseJson": {
                "type": [
                    "null",
                    "object"
                ],
                "additionalProperties": false,
                "properties": {
                    "aspects": {
                        "type": [
                            "null",
                            "array"
                        ],
                        "items": {
                            "type": [
                                "string"
                            ],
                            "maxLength": 100,
                            "minLength": 0
                        },
                        "uniqueItems": false
                    },
                    "sentiment": {
                        "type": [
                            "string" ,
                            "null"
                        ],
                        "enum": [
                            "NEUTRAL",
                            "NEGATIVE",
                            "POSITIVE",
                            null
                        ]
                    },
                    "keyWords": {
                        "type": [
                            "null",
                            "array"
                        ],
                        "items": {
                            "type": [
                                "string"
                            ],
                            "maxLength": 100,
                            "minLength": 0
                        },
                        "uniqueItems": false
                    },
                    "impersonatedUser": {
                        "$ref": "./Thread.json#/components/schemas/author"
                    },
                    "summary": {
                        "type": [
                            "string"
                        ],
                        "maxLength": 100,
                        "minLength": 0,
                        "pattern": "(^([a-zA-Z0-9\\s\\.\\?\\_\\-\\,])*$|null|undefined)"
                    },
                    "isDescriptionThread": {
                        "type": [
                            "boolean",
                            "null"
                        ]
                    },
                    "attachments": {
                        "$ref": "./Thread.json#/components/schemas/attachments"
                    },
                    "isContentTruncated": {
                        "type": [
                            "boolean",
                            "null"
                        ]
                    },
                    "canReply": {
                        "type": [
                            "boolean",
                            "null"
                        ]
                    },
                    "visibility": {
                        "type": [
                            "string",
                            "null"
                        ],
                        "enum": [
                            "public",
                            "private"
                        ],
                        "maxLength": 100,
                        "minLength": 0
                    },
                    "author": {
                        "$ref": "./Thread.json#/components/schemas/author"
                    },
                    "fullContentURL": {
                        "type": [
                            "string",
                            "null"
                        ],
                        "maxLength": 100,
                        "minLength": 0,
                        "pattern": "(^(ht|f)tp(s?)\\://[-.\\w]*(/?)([a-zA-Z0-9\\-\\.\\?\\,\\:\\'/\\\\+=&amp;%\\$#_@]*)?$)"
                    },
                    "channel": {
                        "type": [
                            "string",
                            "null"
                        ],
                        "enum": [
                            "FACEBOOK",
                            "TWITTER",
                            "EMAIL",
                            "FORUMS",
                            "PHONE",
                            "WEB",
                            "FEEDBACK",
                            "FEEDBACK_WIDGET",
                            "TWITTER_DM",
                            "ONLINE_CHAT",
                            "OFFLINE_CHAT",
                            "CUSTOMERPORTAL"
                        ],
                        "maxLength": 100,
                        "minLength": 0
                    },
                    "source": {
                        "$ref": "./Thread.json#/components/schemas/channelSource"
                    },
                    "content": {
                        "type": [
                            "string",
                            "null"
                        ],
                        "maxLength": 16000000,
                        "minLength": 0
                    },
                    "hasAttach": {
                        "type": [
                            "boolean",
                            "null"
                        ]
                    },
                    "channelRelatedInfo": {
                        "$ref": "./Thread.json#/components/schemas/channelRelatedInfo"
                    },
                    "createdTime": {
                        "type": [
                            "string",
                            "null"
                        ],
                        "maxLength": 100,
                        "minLength": 0,
                        "pattern": "(((19|20)\\d\\d)[-/.]{1}(0?[1-9]|1[012])[-/.]{1}(0?[1-9]|[12][0-9]|3[01])(T)([01]?[0-9]|2[0-3]):[0-5]?[0-9]:[0-5]?[0-9]([/.][\\d]{0,3})?(Z))"
                    },
                    "attachmentCount": {
                        "type": [
                            "string",
                            "null",
                            "integer"
                        ],
                        "format": "int64",
                        "pattern": "([0-9]+)"
                    },
                    "id": {
                        "type": [
                            "string",
                            "null",
                            "integer"
                        ],
                        "format": "int64",
                        "pattern": "([0-9]+)"
                    },
                    "actions": {
                        "$ref": "./Thread.json#/components/schemas/actionsList"
                    },
                    "contentType": {
                        "type": [
                            "string",
                            "null"
                        ],
                        "enum": [
                            "text/plain",
                            "text/html"
                        ],
                        "maxLength": 100,
                        "minLength": 0
                    },
                    "status": {
                        "type": [
                            "string",
                            "null"
                        ],
                        "enum": [
                            "SUCCESS",
                            "PENDING",
                            "FAILED",
                            "DRAFT"
                        ],
                        "maxLength": 100,
                        "minLength": 0
                    },
                    "direction": {
                        "type": [
                            "string",
                            "null"
                        ],
                        "enum": [
                            "in",
                            "out"
                        ],
                        "maxLength": 100,
                        "minLength": 0
                    },
                    "readReceipts": {
                        "$ref": "./Thread.json#/components/schemas/readReceipts"
                    },
                    "plainText": {
                        "type": [
                            "string"
                        ],
                        "maxLength": 16000000,
                        "minLength": 0
                    }
                },
                "required": [
                    "actions",
                    "attachmentCount",
                    "attachments",
                    "author",
                    "canReply",
                    "channel",
                    "channelRelatedInfo",
                    "content",
                    "contentType",
                    "createdTime",
                    "direction",
                    "fullContentURL",
                    "hasAttach",
                    "id",
                    "isContentTruncated",
                    "isDescriptionThread",
                    "source",
                    "status",
                    "summary",
                    "visibility"
                ]
            },
            "emailThreadResponse": {
                "allOf": [
                    {
                        "$ref": "#/components/schemas/generalThreadResponseJson"
                    },
                    {
                        "type": "object",
                        "properties": {
                            "bcc": {
                                "type": [
                                    "string",
                                    "null"
                                ],
                                "maxLength": 13000,
                                "minLength": 0,
                                "pattern": "(^((.*?)((<)*?[a-zA-Z0-9]([\\w\\-.+]*)@([\\w\\-.]*)(\\.[a-zA-Z]{2,22}(.[a-zA-Z]{2}){0,2})(>)*?(\\s)*((,|;)\\s*)?))+|^$)"
                            },
                            "cc": {
                                "type": [
                                    "string",
                                    "null"
                                ],
                                "maxLength": 13000,
                                "minLength": 0,
                                "pattern": "(^((.*?)((<)*?[a-zA-Z0-9]([\\w\\-.+]*)@([\\w\\-.]*)(\\.[a-zA-Z]{2,22}(.[a-zA-Z]{2}){0,2})(>)*?(\\s)*((,|;)\\s*)?))+|^$)"
                            },
                            "isForward": {
                                "type": [
                                    "boolean"
                                ]
                            },
                            "replyTo": {
                                "type": [
                                    "string",
                                    "null"
                                ],
                                "maxLength": 13000,
                                "minLength": 0,
                                "pattern": "(^((.*?)((<)*?[a-zA-Z0-9]([\\w\\-.+]*)@([\\w\\-.]*)(\\.[a-zA-Z]{2,22}(.[a-zA-Z]{2}){0,2})(>)*?(\\s)*((,|;)\\s*)?))+|^$)"
                            },
                            "to": {
                                "type": [
                                    "string"
                                ],
                                "maxLength": 13000,
                                "minLength": 0,
                                "pattern": "(^((.*?)((<)*?[a-zA-Z0-9]([\\w\\-.+]*)@([\\w\\-.]*)(\\.[a-zA-Z]{2,22}(.[a-zA-Z]{2}){0,2})(>)*?(\\s)*((,|;)\\s*)?))+|^$)"
                            },
                            "fromEmailAddress": {
                                "type": [
                                    "string"
                                ],
                                "maxLength": 300,
                                "minLength": 0,
                                "pattern": "^[a-zA-Z0-9\\_]([a-zA-Z0-9\\_\\+\\-\\.\\'&]*)@(?=.{4,256}$)(([a-zA-Z0-9]+)(([\\-\\_]*[a-zA-Z0-9])*)[\\.])+[a-zA-Z]{2,22}$"
                            }
                        },
                        "required": [
                            "bcc",
                            "cc",
                            "fromEmailAddress",
                            "isForward",
                            "replyTo",
                            "to"
                        ]
                    }
                ]
            },
            "facebookThreadResponse": {
                "allOf": [
                    {
                        "$ref": "#/components/schemas/generalThreadResponseJson"
                    },
                    {
                        "type": "object",
                        "properties": {
                            "facebookProfile": {
                                "type": [
                                    "string",
                                    "null"
                                ],
                                "maxLength": 13000,
                                "minLength": 0,
                                "pattern": "(^([a-zA-Z0-9\\s\\.\\?\\_\\-\\,])*$|null|undefined)"
                            }
                        },
                        "required": [
                            "facebookProfile"
                        ]
                    }
                ]
            },
            "twitterThreadResponse": {
                "allOf": [
                    {
                        "$ref": "#/components/schemas/generalThreadResponseJson"
                    },
                    {
                        "type": "object",
                        "properties": {
                            "twitterProfile": {
                                "type": [
                                    "string",
                                    "null"
                                ],
                                "maxLength": 13000,
                                "minLength": 0,
                                "pattern": "(^([a-zA-Z0-9\\s\\.\\?\\_\\-\\,])*$|null|undefined)"
                            }
                        },
                        "required": [
                            "twitterProfile"
                        ]
                    }
                ]
            },
            "forumThreadResponse": {
                "allOf": [
                    {
                        "$ref": "#/components/schemas/generalThreadResponseJson"
                    },
                    {
                        "type": "object",
                        "properties": {
                            "fromEmailAddress": {
                                "type": [
                                    "string",
                                    "null"
                                ],
                                "maxLength": 300,
                                "minLength": 0,
                                "pattern": "^[a-zA-Z0-9\\_]([a-zA-Z0-9\\_\\+\\-\\.\\'&]*)@(?=.{4,256}$)(([a-zA-Z0-9]+)(([\\-\\_]*[a-zA-Z0-9])*)[\\.])+[a-zA-Z]{2,22}$"
                            }
                        },
                        "required": [
                            "fromEmailAddress"
                        ]
                    }
                ]
            },
            "latestThreadResponse": {
                "oneOf": [
                    {
                        "$ref": "#/components/schemas/generalThreadResponseJson"
                    },
                    {
                        "$ref": "#/components/schemas/emailThreadResponse"
                    },
                    {
                        "$ref": "#/components/schemas/facebookThreadResponse"
                    },
                    {
                        "$ref": "#/components/schemas/twitterThreadResponse"
                    },
                    {
                        "$ref": "#/components/schemas/forumThreadResponse"
                    }
                ]
            }
        }
    }
}
