{
  "openapi" : "3.1.0",
  "info" : {
    "title" : "IM_Message",
    "version" : "1.0.0",
    "x-clan-group" : "microservices",
    "x-module-group" : "im"
  },
  "paths" : {
    "/api/v1/im/sessions/{sid}/messages/{msg_id}/resend" : {
      "post" : {
        "tags" : [ "IM_Message" ],
        "operationId" : "resendMessage",
        "parameters" : [ {
          "$ref" : "#/components/parameters/msg_id"
        }, {
          "$ref" : "#/components/parameters/sid"
        }, {
          "$ref" : "../common/Common.json#/components/parameters/orgId"
        } ],
        "responses" : {
          "422" : {
            "$ref" : "../common/Common.json#/components/responses/multipleUnprocessEntityResponse"
          },
          "200" : {
            "$ref" : "#/components/responses/getMessage_listView"
          },
          "403" : {
            "$ref" : "../common/Common.json#/components/responses/forbiddenErrorResponse"
          }
        },
        "security" : [ {
          "org-oauth" : [ "Desk.accessAll.ALL" ]
        }, {
          "cookie-auth" : [ "cookie-auth" ]
        } ],
        "x-audience" : [ "company-internal" ],
        "x-custom-url-attribute" : {
          "security" : {
            "throttle" : {
              "inline" : [ {
                "scope" : "APPSERVER",
                "rules" : [ {
                  "duration" : 60000,
                  "lock-period" : 60000,
                  "threshold" : 30,
                  "hip" : false
                } ],
                "window" : "ROLLING",
                "key" : "url.path+user.zuid"
              } ]
            },
            "extraparams" : {
              "disable" : true,
              "ignore" : false
            },
            "authentication" : { }
          },
          "clan-group" : "microservices",
          "module-group" : "im",
          "apimethod" : "com.zoho.support.restapi.im.IMMessageService.resendMessage"
        }
      }
    },
    "/api/v1/im/sessions/{sid}/messages/{msg_id}" : {
      "get" : {
        "tags" : [ "IM_Message" ],
        "operationId" : "getMessage",
        "parameters" : [ {
          "$ref" : "#/components/parameters/msg_id"
        }, {
          "$ref" : "#/components/parameters/sid"
        }, {
          "$ref" : "../common/Common.json#/components/parameters/orgId"
        } ],
        "responses" : {
          "422" : {
            "$ref" : "../common/Common.json#/components/responses/multipleUnprocessEntityResponse"
          },
          "200" : {
            "$ref" : "#/components/responses/getMessage_listView"
          }
        },
        "security" : [ {
          "org-oauth" : [ "Desk.accessAll.ALL" ]
        }, {
          "cookie-auth" : [ "cookie-auth" ]
        } ],
        "x-audience" : [ "company-internal" ],
        "x-custom-url-attribute" : {
          "security" : {
            "throttle" : {
              "inline" : [ {
                "scope" : "APPSERVER",
                "rules" : [ {
                  "duration" : 60000,
                  "lock-period" : 180000,
                  "threshold" : 10,
                  "hip" : false
                } ],
                "window" : "ROLLING",
                "key" : "url.path+user.zuid"
              } ]
            },
            "extraparams" : {
              "disable" : true,
              "ignore" : false
            },
            "authentication" : { }
          },
          "clan-group" : "microservices",
          "module-group" : "im",
          "apimethod" : "com.zoho.support.restapi.im.IMMessageService.getMessage"
        }
      },
      "delete" : {
        "tags" : [ "IM_Message" ],
        "operationId" : "deleteMessage",
        "parameters" : [ {
          "$ref" : "#/components/parameters/msg_id"
        }, {
          "$ref" : "#/components/parameters/sid"
        }, {
          "$ref" : "../common/Common.json#/components/parameters/orgId"
        } ],
        "responses" : {
          "422" : {
            "$ref" : "../common/Common.json#/components/responses/multipleUnprocessEntityResponse"
          },
          "200" : {
            "$ref" : "#/components/responses/getMessage_listView"
          },
          "403" : {
            "$ref" : "../common/Common.json#/components/responses/forbiddenErrorResponse"
          }
        },
        "security" : [ {
          "org-oauth" : [ "Desk.accessAll.ALL" ]
        }, {
          "cookie-auth" : [ "cookie-auth" ]
        } ],
        "x-audience" : [ "company-internal" ],
        "x-custom-url-attribute" : {
          "security" : {
            "throttle" : {
              "inline" : [ {
                "scope" : "APPSERVER",
                "rules" : [ {
                  "duration" : 60000,
                  "lock-period" : 180000,
                  "threshold" : 10,
                  "hip" : false
                } ],
                "window" : "ROLLING",
                "key" : "url.path+user.zuid"
              } ]
            },
            "extraparams" : {
              "disable" : true,
              "ignore" : false
            },
            "authentication" : { }
          },
          "clan-group" : "microservices",
          "module-group" : "im",
          "apimethod" : "com.zoho.support.restapi.im.IMMessageService.deleteMessage"
        }
      }
    },
    "/api/v1/im/channels/{channelId}/initiateSession" : {
      "post" : {
        "tags" : [ "IM_Message" ],
        "summary" : "Initiate Session",
        "description" : "This API initiates a session with a template message",
        "operationId" : "initiateSessionUsingTemplate",
        "parameters" : [ {
          "name" : "channelId",
          "in" : "path",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : [ "string", "null", "integer" ],
            "format" : "int64",
            "pattern" : "([0-9]+)"
          }
        }, {
          "$ref" : "../common/Common.json#/components/parameters/orgId"
        } ],
        "requestBody" : {
          "$ref" : "#/components/requestBodies/initiateSessionUsingTemplate"
        },
        "responses" : {
          "422" : {
            "$ref" : "../common/Common.json#/components/responses/multipleUnprocessEntityResponse"
          },
          "200" : {
            "$ref" : "#/components/responses/getMessage_listView"
          },
          "403" : {
            "$ref" : "../common/Common.json#/components/responses/forbiddenErrorResponse"
          }
        },
        "security" : [ {
          "org-oauth" : [ "Desk.accessAll.ALL" ]
        }, {
          "iam-oauth2-schema" : [ "Desk.InstantMessages.CREATE" ]
        } ],
        "x-audience" : [ "external-public" ],
        "x-custom-url-attribute" : {
          "security" : {
            "throttle" : {
              "inline" : [ {
                "scope" : "APPSERVER",
                "rules" : [ {
                  "duration" : 60000,
                  "lock-period" : 60000,
                  "threshold" : 30,
                  "hip" : false
                } ],
                "window" : "ROLLING",
                "key" : "url.path+user.zuid"
              } ]
            },
            "extraparams" : {
              "disable" : true,
              "ignore" : false
            },
            "authentication" : { }
          },
          "clan-group" : "microservices",
          "apihash" : "46492eb36e92852807515fa7818754a9",
          "module-group" : "im",
          "apimethod" : "com.zoho.support.restapi.im.IMMessageService.initiateSession"
        }
      }
    },
    "/api/v1/im/sessions/{sid}/messages/{msg_id}/fullContent" : {
      "get" : {
        "tags" : [ "IM_Message" ],
        "operationId" : "getMessageFullContent",
        "parameters" : [ {
          "$ref" : "#/components/parameters/msg_id"
        }, {
          "$ref" : "#/components/parameters/sid"
        }, {
          "$ref" : "../common/Common.json#/components/parameters/orgId"
        } ],
        "responses" : {
          "422" : {
            "$ref" : "../common/Common.json#/components/responses/multipleUnprocessEntityResponse"
          },
          "200" : {
            "$ref" : "../common/Common.json#/components/responses/fileResponse"
          }
        },
        "security" : [ {
          "org-oauth" : [ "Desk.accessAll.ALL" ]
        }, {
          "cookie-auth" : [ "cookie-auth" ]
        } ],
        "x-audience" : [ "company-internal" ],
        "x-custom-url-attribute" : {
          "security" : {
            "throttle" : {
              "inline" : [ {
                "scope" : "APPSERVER",
                "rules" : [ {
                  "duration" : 60000,
                  "lock-period" : 120000,
                  "threshold" : 6,
                  "hip" : false
                } ],
                "window" : "ROLLING",
                "key" : "url.path+user.zuid"
              } ]
            },
            "extraparams" : {
              "disable" : true,
              "ignore" : false
            },
            "authentication" : { }
          },
          "clan-group" : "microservices",
          "module-group" : "im",
          "apimethod" : "com.zoho.support.restapi.im.IMMessageService.getMessageFullContent"
        }
      }
    },
    "/api/v1/im/sessions/{sid}/messages" : {
      "get" : {
        "tags" : [ "IM_Message" ],
        "operationId" : "getSessionConversation",
        "parameters" : [ {
          "$ref" : "#/components/parameters/sid"
        }, {
          "$ref" : "../common/Common.json#/components/parameters/orgId"
        } ],
        "responses" : {
          "422" : {
            "$ref" : "../common/Common.json#/components/responses/multipleUnprocessEntityResponse"
          },
          "204" : {
            "$ref" : "../common/Common.json#/components/responses/emptyResponse"
          },
          "200" : {
            "$ref" : "#/components/responses/getSessionConversation"
          }
        },
        "security" : [ {
          "org-oauth" : [ "Desk.accessAll.ALL" ]
        }, {
          "cookie-auth" : [ "cookie-auth" ]
        } ],
        "x-audience" : [ "company-internal" ],
        "x-custom-url-attribute" : {
          "security" : {
            "throttle" : {
              "inline" : [ {
                "scope" : "APPSERVER",
                "rules" : [ {
                  "duration" : 60000,
                  "lock-period" : 120000,
                  "threshold" : 30,
                  "hip" : false
                } ],
                "window" : "ROLLING",
                "key" : "url.path+user.zuid"
              } ]
            },
            "extraparams" : {
              "disable" : true,
              "ignore" : false
            },
            "authentication" : { }
          },
          "clan-group" : "microservices",
          "module-group" : "im",
          "apimethod" : "com.zoho.support.restapi.im.IMMessageService.getSessionConversation"
        }
      },
      "post" : {
        "tags" : [ "IM_Message" ],
        "operationId" : "addOutgoingMessage",
        "parameters" : [ {
          "$ref" : "#/components/parameters/sid"
        }, {
          "$ref" : "../common/Common.json#/components/parameters/orgId"
        } ],
        "requestBody" : {
          "$ref" : "#/components/requestBodies/addOutgoingMessage"
        },
        "responses" : {
          "422" : {
            "$ref" : "../common/Common.json#/components/responses/multipleUnprocessEntityResponse"
          },
          "200" : {
            "$ref" : "#/components/responses/getMessage_listView"
          },
          "403" : {
            "$ref" : "../common/Common.json#/components/responses/forbiddenErrorResponse"
          }
        },
        "security" : [ {
          "org-oauth" : [ "Desk.accessAll.ALL" ]
        }, {
          "cookie-auth" : [ "cookie-auth" ]
        } ],
        "x-audience" : [ "company-internal" ],
        "x-custom-url-attribute" : {
          "security" : {
            "throttle" : {
              "inline" : [ {
                "scope" : "APPSERVER",
                "rules" : [ {
                  "duration" : 60000,
                  "lock-period" : 60000,
                  "threshold" : 50,
                  "hip" : false
                } ],
                "window" : "ROLLING",
                "key" : "url.path+user.zuid"
              } ]
            },
            "extraparams" : {
              "disable" : true,
              "ignore" : false
            },
            "authentication" : { }
          },
          "clan-group" : "microservices",
          "module-group" : "im",
          "apimethod" : "com.zoho.support.restapi.im.IMMessageService.addOutgoingMessage"
        }
      }
    },
    "/api/v1/im/sessions/{sid}/attachments" : {
      "post" : {
        "tags" : [ "IM_Message" ],
        "operationId" : "addAttachmentMessage",
        "parameters" : [ {
          "name" : "replyToMessageId",
          "in" : "query",
          "description" : "parent message id",
          "required" : true,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : [ "string", "null", "integer" ],
            "format" : "int64",
            "description" : "parent message id",
            "pattern" : "([0-9]+)"
          }
        }, {
          "name" : "message",
          "in" : "query",
          "description" : "caption for the attachments",
          "required" : true,
          "style" : "form",
          "explode" : true,
          "schema" : {
            "type" : [ "string", "null" ],
            "description" : "caption for the attachments",
            "maxLength" : 100,
            "minLength" : 0
          }
        }, {
          "$ref" : "#/components/parameters/sid"
        }, {
          "$ref" : "../common/Common.json#/components/parameters/orgId"
        } ],
        "requestBody" : {
          "content" : {
            "multipart/form-data" : {
              "schema" : {
                "type" : "object",
                "properties" : {
                  "file" : {
                    "type" : "string",
                    "format" : "binary"
                  }
                },
                "required" : [ "file" ]
              }
            }
          }
        },
        "responses" : {
          "422" : {
            "$ref" : "../common/Common.json#/components/responses/invalidDataErrorResponse"
          },
          "200" : {
            "$ref" : "#/components/responses/getMessage_listView"
          },
          "403" : {
            "$ref" : "../common/Common.json#/components/responses/forbiddenErrorResponse"
          }
        },
        "security" : [ {
          "org-oauth" : [ "Desk.accessAll.ALL" ]
        }, {
          "cookie-auth" : [ "cookie-auth" ]
        } ],
        "x-audience" : [ "company-internal" ],
        "x-custom-url-attribute" : {
          "security" : {
            "throttle" : {
              "inline" : [ {
                "scope" : "APPSERVER",
                "rules" : [ {
                  "duration" : 60000,
                  "lock-period" : 60000,
                  "threshold" : 50,
                  "hip" : false
                } ],
                "window" : "ROLLING",
                "key" : "url.path+user.zuid"
              } ]
            },
            "extraparams" : {
              "disable" : true,
              "ignore" : false
            },
            "authentication" : { }
          },
          "clan-group" : "microservices",
          "module-group" : "im",
          "apimethod" : "com.zoho.support.restapi.im.IMMessageService.addAttachmentMessage"
        }
      }
    },
    "/api/v1/im/tickets/{ticket_id}/replyToMessage" : {
      "get" : {
        "tags" : [ "IM_Message" ],
        "operationId" : "getComputedTicketReplyMessage",
        "parameters" : [ {
          "name" : "ticket_id",
          "in" : "path",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : [ "string", "null", "integer" ],
            "format" : "int64",
            "pattern" : "([0-9]+)"
          }
        }, {
          "$ref" : "../common/Common.json#/components/parameters/orgId"
        } ],
        "responses" : {
          "422" : {
            "$ref" : "../common/Common.json#/components/responses/multipleUnprocessEntityResponse"
          },
          "204" : {
            "$ref" : "../common/Common.json#/components/responses/emptyResponse"
          },
          "200" : {
            "$ref" : "#/components/responses/getMessage_listView"
          }
        },
        "security" : [ {
          "org-oauth" : [ "Desk.accessAll.ALL" ]
        }, {
          "cookie-auth" : [ "cookie-auth" ]
        } ],
        "x-audience" : [ "company-internal" ],
        "x-custom-url-attribute" : {
          "security" : {
            "throttle" : {
              "inline" : [ {
                "scope" : "APPSERVER",
                "rules" : [ {
                  "duration" : 60000,
                  "lock-period" : 180000,
                  "threshold" : 10,
                  "hip" : false
                } ],
                "window" : "ROLLING",
                "key" : "url.path+user.zuid"
              } ]
            },
            "extraparams" : {
              "disable" : true,
              "ignore" : false
            },
            "authentication" : { }
          },
          "clan-group" : "microservices",
          "module-group" : "im",
          "apimethod" : "com.zoho.support.restapi.im.IMMessageService.getComputedTicketReplyMessage"
        }
      }
    },
    "/api/v1/im/attachments/{attachment_uuid}" : {
      "get" : {
        "tags" : [ "IM_Message" ],
        "operationId" : "getAttachmentUUIDContent",
        "parameters" : [ {
          "name" : "attachment_uuid",
          "in" : "path",
          "description" : "",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : [ "string", "null" ],
            "description" : "",
            "maxLength" : 100,
            "minLength" : 0
          }
        }, {
          "$ref" : "../common/Common.json#/components/parameters/orgId"
        } ],
        "responses" : {
          "422" : {
            "$ref" : "../common/Common.json#/components/responses/multipleUnprocessEntityResponse"
          },
          "204" : {
            "$ref" : "../common/Common.json#/components/responses/fileResponse"
          }
        },
        "security" : [ {
          "org-oauth" : [ "Desk.accessAll.ALL" ]
        }, {
          "iam-oauth2-schema" : [ "Desk.basic.READ", "Desk.InstantMessages.READ" ]
        } ],
        "x-audience" : [ "company-internal" ],
        "x-custom-url-attribute" : {
          "security" : {
            "throttle" : {
              "inline" : [ {
                "scope" : "APPSERVER",
                "rules" : [ {
                  "duration" : 60000,
                  "lock-period" : 60000,
                  "threshold" : 20,
                  "hip" : false
                } ],
                "window" : "ROLLING",
                "key" : "url.path+user.zuid"
              } ]
            },
            "extraparams" : {
              "disable" : true,
              "ignore" : false
            },
            "authentication" : { }
          },
          "clan-group" : "microservices",
          "module-group" : "im",
          "apimethod" : "com.zoho.support.restapi.im.IMMessageService.getAttachmentContent"
        }
      }
    },
    "/api/v1/im/sessions/lastMessages" : {
      "post" : {
        "tags" : [ "IM_Message" ],
        "operationId" : "getSessionsLastMessages",
        "parameters" : [ {
          "$ref" : "../common/Common.json#/components/parameters/orgId"
        } ],
        "requestBody" : {
          "$ref" : "#/components/requestBodies/getSessionsLastMessages"
        },
        "responses" : {
          "422" : {
            "$ref" : "../common/Common.json#/components/responses/multipleUnprocessEntityResponse"
          },
          "204" : {
            "$ref" : "../common/Common.json#/components/responses/emptyResponse"
          },
          "200" : {
            "$ref" : "#/components/responses/getSessionConversation"
          }
        },
        "security" : [ {
          "org-oauth" : [ "Desk.accessAll.ALL" ]
        }, {
          "cookie-auth" : [ "cookie-auth" ]
        } ],
        "x-audience" : [ "company-internal" ],
        "x-custom-url-attribute" : {
          "security" : {
            "throttle" : {
              "inline" : [ {
                "scope" : "APPSERVER",
                "rules" : [ {
                  "duration" : 60000,
                  "lock-period" : 120000,
                  "threshold" : 30,
                  "hip" : false
                } ],
                "window" : "ROLLING",
                "key" : "url.path+user.zuid"
              } ]
            },
            "extraparams" : {
              "disable" : true,
              "ignore" : false
            },
            "authentication" : { }
          },
          "clan-group" : "microservices",
          "module-group" : "im",
          "apimethod" : "com.zoho.support.restapi.im.IMMessageService.getSessionsLastMessages"
        }
      }
    },
    "/api/v1/im/sessions/{sid}/attachments/{attachment_id}" : {
      "get" : {
        "tags" : [ "IM_Message" ],
        "operationId" : "getMessageAttachmentContent",
        "parameters" : [ {
          "name" : "attachment_id",
          "in" : "path",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : [ "string", "null", "integer" ],
            "format" : "int64",
            "pattern" : "([0-9]+)"
          }
        }, {
          "$ref" : "#/components/parameters/sid"
        }, {
          "$ref" : "../common/Common.json#/components/parameters/orgId"
        } ],
        "responses" : {
          "422" : {
            "$ref" : "../common/Common.json#/components/responses/multipleUnprocessEntityResponse"
          },
          "204" : {
            "$ref" : "../common/Common.json#/components/responses/fileResponse"
          }
        },
        "security" : [ {
          "org-oauth" : [ "Desk.accessAll.ALL" ]
        }, {
          "iam-oauth2-schema" : [ "Desk.basic.READ" ]
        } ],
        "x-audience" : [ "company-internal" ],
        "x-custom-url-attribute" : {
          "security" : {
            "throttle" : {
              "inline" : [ {
                "scope" : "APPSERVER",
                "rules" : [ {
                  "duration" : 60000,
                  "lock-period" : 60000,
                  "threshold" : 20,
                  "hip" : false
                } ],
                "window" : "ROLLING",
                "key" : "url.path+user.zuid"
              } ]
            },
            "extraparams" : {
              "disable" : true,
              "ignore" : false
            },
            "authentication" : { }
          },
          "clan-group" : "microservices",
          "module-group" : "im",
          "apimethod" : "com.zoho.support.restapi.im.IMMessageService.getMessageAttachmentContent"
        }
      }
    },
    "/api/v1/im/sessions/{sid}/markAsRead" : {
      "patch" : {
        "tags" : [ "IM_Message" ],
        "operationId" : "markMessageAsRead",
        "parameters" : [ {
          "$ref" : "#/components/parameters/sid"
        }, {
          "$ref" : "../common/Common.json#/components/parameters/orgId"
        } ],
        "requestBody" : {
          "$ref" : "#/components/requestBodies/markMessageAsRead"
        },
        "responses" : {
          "422" : {
            "$ref" : "../common/Common.json#/components/responses/multipleUnprocessEntityResponse"
          },
          "200" : {
            "$ref" : "../common/Common.json#/components/responses/emptyResponse"
          },
          "403" : {
            "$ref" : "../common/Common.json#/components/responses/forbiddenErrorResponse"
          }
        },
        "security" : [ {
          "org-oauth" : [ "Desk.accessAll.ALL" ]
        }, {
          "cookie-auth" : [ "cookie-auth" ]
        } ],
        "x-audience" : [ "company-internal" ],
        "x-custom-url-attribute" : {
          "security" : {
            "throttle" : {
              "inline" : [ {
                "scope" : "APPSERVER",
                "rules" : [ {
                  "duration" : 60000,
                  "lock-period" : 120000,
                  "threshold" : 60,
                  "hip" : false
                } ],
                "window" : "ROLLING",
                "key" : "url.path+user.zuid"
              } ]
            },
            "extraparams" : {
              "disable" : true,
              "ignore" : false
            },
            "authentication" : { }
          },
          "clan-group" : "microservices",
          "module-group" : "im",
          "apimethod" : "com.zoho.support.restapi.im.IMMessageService.markMessageAsRead"
        }
      }
    }
  },
  "components" : {
    "schemas" : {
      "meta" : {
        "additionalProperties" : false,
        "allOf" : [ {
          "$ref" : "./IM_Session.json#/components/schemas/meta"
        }, {
          "type" : [ "null", "object" ],
          "properties" : {
            "BOT_REPLY_STATUS" : {
              "type" : [ "string", "null" ],
              "maxLength" : 100,
              "minLength" : 0
            },
            "GC_TRANSFERRED" : {
              "type" : [ "string", "null" ],
              "maxLength" : 100,
              "minLength" : 0
            },
            "COST" : {
              "type" : [ "string", "null" ],
              "maxLength" : 100,
              "minLength" : 0
            },
            "RATING_STAR" : {
              "type" : [ "string", "null" ],
              "maxLength" : 100,
              "minLength" : 0
            },
            "DESK_KB_ARTICLE_TRANSLATION_ID" : {
              "type" : [ "string", "null" ],
              "maxLength" : 100,
              "minLength" : 0
            },
            "REACTION" : {
              "type" : [ "string", "null" ],
              "maxLength" : 100,
              "minLength" : 0
            },
            "GC_SELECTED" : {
              "type" : [ "string", "null" ],
              "maxLength" : 100,
              "minLength" : 0
            },
            "GC_SKIPPED" : {
              "type" : [ "string", "null" ],
              "maxLength" : 100,
              "minLength" : 0
            }
          },
          "required" : [ "BOT_REPLY_STATUS", "COST", "DESK_KB_ARTICLE_TRANSLATION_ID", "GC_SELECTED", "GC_SKIPPED", "GC_TRANSFERRED", "RATING_STAR", "REACTION" ]
        } ]
      },
      "attachment" : {
        "type" : [ "null", "object" ],
        "additionalProperties" : false,
        "properties" : {
          "size" : {
            "type" : [ "string", "null" ],
            "maxLength" : 100,
            "minLength" : 0,
            "pattern" : "[0-9]+"
          },
          "name" : {
            "type" : [ "string", "null" ],
            "maxLength" : 100,
            "minLength" : 0
          },
          "id" : {
            "type" : [ "string", "null", "integer" ],
            "format" : "int64",
            "pattern" : "([0-9]+)"
          },
          "type" : {
            "type" : [ "string", "null" ],
            "maxLength" : 100,
            "minLength" : 0
          },
          "url" : {
            "type" : [ "string", "null" ],
            "maxLength" : 200,
            "minLength" : 0,
            "pattern" : "(^(ht|f)tp(s?)\\://[-.\\w]*(/?)([a-zA-Z0-9\\-\\.\\?\\,\\:\\'/\\\\+=&amp;%\\$#_@]*)?$)"
          }
        },
        "required" : [ "id", "name", "size", "type", "url" ]
      },
      "infoMessageTarget" : {
        "additionalProperties" : false,
        "allOf" : [ {
          "$ref" : "./IM_Channel.json#/components/schemas/agent"
        }, {
          "type" : [ "null", "object" ],
          "properties" : {
            "deskActorId" : {
              "type" : [ "string", "null", "integer" ],
              "format" : "int64",
              "pattern" : "([0-9]+)"
            }
          },
          "required" : [ "deskActorId" ]
        } ]
      },
      "infoMessageTargets" : {
        "type" : [ "null", "array" ],
        "items" : {
          "$ref" : "./IM_Message.json#/components/schemas/infoMessageTarget"
        }
      },
      "info" : {
        "type" : [ "null", "object" ],
        "additionalProperties" : false,
        "properties" : {
          "actor" : {
            "$ref" : "./IM_Session.json#/components/schemas/sessionActor"
          },
          "sessionStatus" : {
            "type" : [ "string", "null" ],
            "enum" : [ "CREATED", "OPEN", "ON_PROGRESS", "ON_HOLD", "ENDED", "BLOCKED", "MISSED" ],
            "maxLength" : 100,
            "minLength" : 0
          },
          "action" : {
            "type" : [ "string", "null" ],
            "enum" : [ "UN_IDENTIFIED", "END_SESSION", "BLOCK_SESSION", "UNBLOCK_SESSION", "CHAT_ACCEPT", "CHAT_REOPEN", "CHAT_TRANSFER", "ADD_PARTICIPANT", "REMOVE_PARTICIPANT" ],
            "maxLength" : 100,
            "minLength" : 0
          },
          "targets" : {
            "$ref" : "./IM_Message.json#/components/schemas/infoMessageTargets"
          }
        },
        "required" : [ "action", "actor", "sessionStatus", "targets" ]
      },
      "location" : {
        "type" : [ "null", "object" ],
        "additionalProperties" : false,
        "properties" : {
          "latitude" : {
            "type" : [ "string", "null" ],
            "maxLength" : 100,
            "minLength" : 0
          },
          "longitude" : {
            "type" : [ "string", "null" ],
            "maxLength" : 100,
            "minLength" : 0
          }
        },
        "required" : [ "latitude", "longitude" ]
      },
      "article" : {
        "type" : [ "null", "object" ],
        "additionalProperties" : false,
        "properties" : {
          "summary" : {
            "type" : [ "string", "null" ],
            "maxLength" : 65553,
            "minLength" : 0
          },
          "owner" : {
            "$ref" : "./ArticleTranslation.json#/components/schemas/owner"
          },
          "translationId" : {
            "type" : [ "string", "null", "integer" ],
            "format" : "int64",
            "pattern" : "([0-9]+)"
          },
          "webUrl" : {
            "type" : [ "string", "null" ],
            "maxLength" : 500,
            "minLength" : 0,
            "pattern" : "(^(ht|f)tp(s?)\\://[-.\\w]*(/?)([a-zA-Z0-9\\-\\.\\?\\,\\:\\'/\\\\+=&amp;%\\$#_@]*)?$)"
          },
          "createdTime" : {
            "type" : [ "string", "null" ],
            "maxLength" : 100,
            "minLength" : 0,
            "pattern" : "(((19|20)\\d\\d)[-/.]{1}(0?[1-9]|1[012])[-/.]{1}(0?[1-9]|[12][0-9]|3[01])(T)([01]?[0-9]|2[0-3]):[0-5]?[0-9]:[0-5]?[0-9]([/.][\\d]{0,3})?(Z))"
          },
          "id" : {
            "type" : [ "string", "null", "integer" ],
            "format" : "int64",
            "pattern" : "([0-9]+)"
          },
          "title" : {
            "type" : [ "string", "null" ],
            "maxLength" : 500,
            "minLength" : 0
          }
        },
        "required" : [ "createdTime", "id", "owner", "summary", "title", "translationId", "webUrl" ]
      },
      "getMessage_listview_main" : {
        "type" : [ "null", "object" ],
        "additionalProperties" : false,
        "properties" : {
          "kbArticle" : {
            "$ref" : "./IM_Message.json#/components/schemas/article"
          },
          "fullContentURL" : {
            "type" : [ "string", "null" ],
            "maxLength" : 200,
            "minLength" : 0,
            "pattern" : "(^(ht|f)tp(s?)\\://[-.\\w]*(/?)([a-zA-Z0-9\\-\\.\\?\\,\\:\\'/\\\\+=&amp;%\\$#_@]*)?$)"
          },
          "isRead" : {
            "type" : [ "boolean", "null" ]
          },
          "index" : {
            "type" : [ "string", "null" ],
            "maxLength" : 100,
            "minLength" : 0,
            "pattern" : "[0-9]+"
          },
          "sessionId" : {
            "type" : [ "string", "null", "integer" ],
            "format" : "int64",
            "pattern" : "([0-9]+)"
          },
          "type" : {
            "type" : [ "string", "null" ],
            "enum" : [ "TEXT", "INFO", "ATTACHMENT", "LOCATION", "TEMPLATE", "CAROUSEL", "LAYOUT" ],
            "maxLength" : 100,
            "minLength" : 0
          },
          "ticketWebUrl" : {
            "type" : [ "string", "null" ],
            "maxLength" : 500,
            "minLength" : 0,
            "pattern" : "(^(ht|f)tp(s?)\\://[-.\\w]*(/?)([a-zA-Z0-9\\-\\.\\?\\,\\:\\'/\\\\+=&amp;%\\$#_@]*)?$)"
          },
          "actor" : {
            "$ref" : "./IM_Session.json#/components/schemas/sessionActor"
          },
          "displayMessage" : {
            "type" : [ "string", "null" ],
            "maxLength" : 300,
            "minLength" : 0
          },
          "attachment" : {
            "$ref" : "./IM_Message.json#/components/schemas/attachment"
          },
          "meta" : {
            "$ref" : "./IM_Message.json#/components/schemas/meta"
          },
          "createdTime" : {
            "type" : [ "string", "null" ],
            "maxLength" : 100,
            "minLength" : 0,
            "pattern" : "(((19|20)\\d\\d)[-/.]{1}(0?[1-9]|1[012])[-/.]{1}(0?[1-9]|[12][0-9]|3[01])(T)([01]?[0-9]|2[0-3]):[0-5]?[0-9]:[0-5]?[0-9]([/.][\\d]{0,3})?(Z))"
          },
          "statusUpdatedTime" : {
            "type" : [ "string", "null" ],
            "maxLength" : 100,
            "minLength" : 0,
            "pattern" : "(((19|20)\\d\\d)[-/.]{1}(0?[1-9]|1[012])[-/.]{1}(0?[1-9]|[12][0-9]|3[01])(T)([01]?[0-9]|2[0-3]):[0-5]?[0-9]:[0-5]?[0-9]([/.][\\d]{0,3})?(Z))"
          },
          "location" : {
            "$ref" : "./IM_Message.json#/components/schemas/location"
          },
          "id" : {
            "type" : [ "string", "null", "integer" ],
            "format" : "int64",
            "pattern" : "([0-9]+)"
          },
          "contentType" : {
            "type" : [ "string", "null" ],
            "enum" : [ "text/html", "text/plain", "application/json" ],
            "maxLength" : 100,
            "minLength" : 0
          },
          "direction" : {
            "type" : [ "string", "null" ],
            "enum" : [ "IN", "OUT" ],
            "maxLength" : 100,
            "minLength" : 0
          },
          "status" : {
            "type" : [ "string", "null" ],
            "enum" : [ "SAVED", "QUEUED", "SENT", "DELIVERED", "READ", "FAILED", "DELETED", "MISSED" ],
            "maxLength" : 100,
            "minLength" : 0
          },
          "info" : {
            "$ref" : "./IM_Message.json#/components/schemas/info"
          }
        },
        "required" : [ "actor", "attachment", "contentType", "createdTime", "direction", "displayMessage", "fullContentURL", "id", "index", "info", "isRead", "kbArticle", "location", "meta", "sessionId", "status", "statusUpdatedTime", "ticketWebUrl", "type" ]
      },
      "replyToMessage" : {
        "additionalProperties" : false,
        "allOf" : [ {
          "$ref" : "./IM_Message.json#/components/schemas/getMessage_listview_main"
        }, {
          "type" : [ "null", "object" ],
          "properties" : {
            "replyToMessage" : {
              "type" : [ "null", "object" ],
              "additionalProperties" : false
            }
          },
          "required" : [ "replyToMessage" ]
        } ]
      },
      "messageMetaArray" : {
        "type" : [ "null", "array" ],
        "items" : {
          "$ref" : "./IM_Channel.json#/components/schemas/listOfIMChanneMeta"
        }
      },
      "getMessage_listView" : {
        "additionalProperties" : false,
        "allOf" : [ {
          "$ref" : "./IM_Message.json#/components/schemas/getMessage_listview_main"
        }, {
          "type" : [ "null", "object" ],
          "properties" : {
            "replyToMessage" : {
              "$ref" : "./IM_Message.json#/components/schemas/replyToMessage"
            }
          },
          "required" : [ "replyToMessage" ]
        } ]
      },
      "getMessages_listView" : {
        "type" : [ "null", "array" ],
        "items" : {
          "$ref" : "./IM_Message.json#/components/schemas/getMessage_listView"
        }
      },
      "sessionIds" : {
        "type" : [ "null", "array" ],
        "items" : {
          "type" : [ "string", "null", "integer" ],
          "format" : "int64",
          "pattern" : "([0-9]+)"
        }
      }
    },
    "responses" : {
      "getMessage_listView" : {
        "description" : "getMessage_listView template definitions",
        "content" : {
          "application/json" : {
            "schema" : {
              "additionalProperties" : false,
              "allOf" : [ {
                "$ref" : "./IM_Message.json#/components/schemas/getMessage_listview_main"
              }, {
                "type" : [ "null", "object" ],
                "properties" : {
                  "replyToMessage" : {
                    "$ref" : "./IM_Message.json#/components/schemas/replyToMessage"
                  }
                },
                "required" : [ "replyToMessage" ]
              } ]
            },
            "examples" : {
              "Valid responses Definitions" : {
                "value" : null
              }
            }
          }
        },
        "x-custom-response-attributes" : {
          "disable-safe-headers" : "[]"
        }
      },
      "getSessionConversation" : {
        "description" : "getSessionConversation template definitions",
        "content" : {
          "application/json" : {
            "schema" : {
              "type" : [ "null", "object" ],
              "additionalProperties" : false,
              "properties" : {
                "data" : {
                  "$ref" : "./IM_Message.json#/components/schemas/getMessages_listView"
                },
                "hasMore" : {
                  "type" : [ "boolean", "null" ]
                }
              },
              "required" : [ "data", "hasMore" ]
            },
            "examples" : {
              "Valid responses Definitions" : {
                "value" : null
              }
            }
          }
        },
        "x-custom-response-attributes" : {
          "disable-safe-headers" : "[]"
        }
      }
    },
    "parameters" : {
      "msg_id" : {
        "name" : "msg_id",
        "in" : "path",
        "required" : true,
        "style" : "simple",
        "explode" : false,
        "schema" : {
          "type" : [ "string", "null", "integer" ],
          "format" : "int64",
          "pattern" : "([0-9]+)"
        }
      },
      "sid" : {
        "name" : "sid",
        "in" : "path",
        "required" : true,
        "style" : "simple",
        "explode" : false,
        "schema" : {
          "type" : [ "string", "null", "integer" ],
          "format" : "int64",
          "pattern" : "([0-9]+)"
        }
      }
    },
    "requestBodies" : {
      "initiateSessionUsingTemplate" : {
        "content" : {
          "application/json" : {
            "schema" : {
              "type" : [ "null", "object" ],
              "additionalProperties" : false,
              "properties" : {
                "receiverId" : {
                  "type" : [ "string", "null" ],
                  "description" : "ID to which Message Has to be sent",
                  "maxLength" : 100,
                  "minLength" : 0
                },
                "receiverType" : {
                  "type" : [ "string", "null" ],
                  "description" : "Specifies receiverID type. Allowed value @PHONENUMBER@",
                  "enum" : [ "PHONENUMBER" ],
                  "maxLength" : 100,
                  "minLength" : 0
                },
                "meta" : {
                  "$ref" : "./IM_Message.json#/components/schemas/messageMetaArray"
                },
                "cannedMessageId" : {
                  "type" : [ "string", "null", "integer" ],
                  "format" : "int64",
                  "description" : "TemplateMessageId to send that template",
                  "pattern" : "([0-9]+)"
                },
                "language" : {
                  "type" : [ "string", "null" ],
                  "description" : "Language of Translation. Enter this input in ISO language code. For example @en@, @fr@, @de@, @bn@, @ta@ etc",
                  "maxLength" : 100,
                  "minLength" : 0,
                  "pattern" : "af|sq|ar|az|bn|bg|ca|zh_CN|zh_HK|zh_TW|hr|cs|da|nl|en_GB|en_US|et|fil|fi|fr|ka|de|el|gu|ha|he|hi|hu|id|ga|it|ja|kn|kk|rw_RW|ko|ky_KG|lo|lv|lt|mk|ms|ml|mr|nb|fa|pl|pt_BR|pt_PT|pa|ro|ru|sr|sk|sl|es|es_AR|es_ES|es_MX|sw|sv|ta|te|th|tr|uk|ur|uz|vi|zu|en"
                },
                "message" : {
                  "type" : [ "string", "null" ],
                  "description" : "Content of the message",
                  "maxLength" : 65535,
                  "minLength" : 0
                }
              },
              "required" : [ "cannedMessageId", "language", "message", "receiverId", "receiverType" ]
            },
            "examples" : {
              "Valid requestBody Definitions" : {
                "value" : {
                  "receiverId" : "+918478935387",
                  "receiverType" : "PHONENUMBER",
                  "cannedMessageId" : "3942000001074175",
                  "language" : "en",
                  "message" : "Welcome to Tasty Bakery. What would you like to eat?"
                }
              }
            }
          }
        },
        "x-custom-request-body-attributes" : {
          "non-empty" : false,
          "allow-invalid" : false
        }
      },
      "addOutgoingMessage" : {
        "content" : {
          "application/json" : {
            "schema" : {
              "type" : [ "null", "object" ],
              "additionalProperties" : false,
              "properties" : {
                "message" : {
                  "type" : [ "string", "null" ],
                  "description" : "Original Message Content",
                  "maxLength" : 100,
                  "minLength" : 0
                }
              },
              "required" : [ "message" ]
            },
            "examples" : {
              "Valid requestBody Definitions" : {
                "value" : null
              }
            }
          }
        },
        "x-custom-request-body-attributes" : {
          "non-empty" : false,
          "allow-invalid" : false
        }
      },
      "getSessionsLastMessages" : {
        "content" : {
          "application/json" : {
            "schema" : {
              "type" : [ "null", "object" ],
              "additionalProperties" : false,
              "properties" : {
                "sessionIds" : {
                  "$ref" : "./IM_Message.json#/components/schemas/sessionIds"
                }
              },
              "required" : [ "sessionIds" ]
            },
            "examples" : {
              "Valid requestBody Definitions" : {
                "value" : null
              }
            }
          }
        },
        "x-custom-request-body-attributes" : {
          "non-empty" : false,
          "allow-invalid" : false
        }
      },
      "markMessageAsRead" : {
        "content" : {
          "application/json" : {
            "schema" : {
              "type" : [ "null", "object" ],
              "additionalProperties" : false,
              "properties" : {
                "lastSeenMessageId" : {
                  "type" : [ "string", "null", "integer" ],
                  "format" : "int64",
                  "description" : "Last seen message id",
                  "pattern" : "([0-9]+)"
                }
              },
              "required" : [ "lastSeenMessageId" ]
            },
            "examples" : {
              "Valid requestBody Definitions" : {
                "value" : null
              }
            }
          }
        },
        "x-custom-request-body-attributes" : {
          "non-empty" : false,
          "allow-invalid" : false
        }
      }
    },
    "securitySchemes" : {
      "cookie-auth" : {
        "$ref" : "../common/Common.json#/components/securitySchemes/cookie-auth"
      },
      "org-oauth" : {
        "$ref" : "../common/Common.json#/components/securitySchemes/org-oauth"
      },
      "iam-oauth2-schema" : {
        "$ref" : "../common/Common.json#/components/securitySchemes/iam-oauth2-schema"
      }
    }
  },
  "x-entity" : "IM_Message"
}