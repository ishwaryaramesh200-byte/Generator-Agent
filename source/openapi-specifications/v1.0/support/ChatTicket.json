{
  "openapi" : "3.1.0",
  "info" : {
    "title" : "ChatTicket",
    "version" : "1.0.0",
    "x-clan-group" : "chat",
    "x-module-group" : "chat"
  },
  "paths" : {
    "/api/v1/chatTicket" : {
      "post" : {
        "tags" : [ "ChatTicket" ],
        "summary" : "Add Chat Ticket",
        "description" : "Add Chat Ticket",
        "operationId" : "addRequest",
        "parameters" : [ {
          "$ref" : "../common/Common.json#/components/parameters/orgId"
        } ],
        "requestBody" : {
          "$ref" : "#/components/requestBodies/chatrequestjson"
        },
        "responses" : {
          "422" : {
            "$ref" : "../common/Common.json#/components/responses/invalidDataErrorResponse"
          },
          "200" : {
            "$ref" : "#/components/responses/chatresponsejson"
          }
        },
        "security" : [ {
          "org-oauth" : [ "Desk.accessAll.ALL" ]
        }, {
          "iam-oauth2-schema" : [ "Desk.tickets.CREATE" ]
        } ],
        "x-audience" : [ "company-internal" ],
        "x-custom-url-attribute" : {
          "security" : {
            "throttle" : {
              "inline" : [ {
                "scope" : "APPSERVER",
                "rules" : [ {
                  "duration" : 60000,
                  "lock-period" : 600000,
                  "threshold" : 100,
                  "hip" : false
                }, {
                  "duration" : 3600000,
                  "lock-period" : 1800000,
                  "threshold" : 1000,
                  "hip" : false
                }, {
                  "duration" : 86400000,
                  "lock-period" : 6000000,
                  "threshold" : 10000,
                  "hip" : false
                } ],
                "window" : "ROLLING",
                "key" : "url.path+user.zuid"
              } ]
            },
            "extraparams" : {
              "disable" : true,
              "ignore" : false
            },
            "authentication" : { }
          },
          "clan-group" : "chat",
          "apihash" : "8b6659728e38f41d95396abb5a22234b",
          "module-group" : "chat",
          "apimethod" : "com.zoho.support.restapi.ChatService.addRequest"
        }
      }
    },
    "/api/v1/chatTicket/{ticketId}/thread/{threadId}" : {
      "put" : {
        "tags" : [ "ChatTicket" ],
        "summary" : "Update Chat Thread",
        "description" : "Update Chat Thread",
        "operationId" : "updateThread",
        "parameters" : [ {
          "name" : "threadId",
          "in" : "path",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : [ "string", "null", "integer" ],
            "format" : "int64",
            "pattern" : "([0-9]+)"
          }
        }, {
          "$ref" : "#/components/parameters/ticketId"
        }, {
          "$ref" : "../common/Common.json#/components/parameters/orgId"
        } ],
        "requestBody" : {
          "$ref" : "#/components/requestBodies/updatethreadjson"
        },
        "responses" : {
          "204" : {
            "$ref" : "../common/Common.json#/components/responses/emptyResponse"
          }
        },
        "security" : [ {
          "org-oauth" : [ "Desk.accessAll.ALL" ]
        }, {
          "iam-oauth2-schema" : [ "Desk.tickets.UPDATE" ]
        } ],
        "x-audience" : [ "company-internal" ],
        "x-custom-url-attribute" : {
          "security" : {
            "throttle" : {
              "inline" : [ {
                "scope" : "APPSERVER",
                "rules" : [ {
                  "duration" : 60000,
                  "lock-period" : 600000,
                  "threshold" : 100,
                  "hip" : false
                }, {
                  "duration" : 3600000,
                  "lock-period" : 1800000,
                  "threshold" : 1000,
                  "hip" : false
                }, {
                  "duration" : 86400000,
                  "lock-period" : 6000000,
                  "threshold" : 10000,
                  "hip" : false
                } ],
                "window" : "ROLLING",
                "key" : "url.path+user.zuid"
              } ]
            },
            "extraparams" : {
              "disable" : true,
              "ignore" : false
            },
            "authentication" : { }
          },
          "clan-group" : "chat",
          "apihash" : "0cc7fd31ff149217e0e87e9254959eef",
          "module-group" : "chat",
          "apimethod" : "com.zoho.support.restapi.ChatService.updateThread"
        }
      }
    },
    "/api/v1/chatTicket/{ticketId}/thread" : {
      "post" : {
        "tags" : [ "ChatTicket" ],
        "summary" : "Add Chat Thread",
        "description" : "Add Chat Thread",
        "operationId" : "addThread",
        "parameters" : [ {
          "$ref" : "#/components/parameters/ticketId"
        }, {
          "$ref" : "../common/Common.json#/components/parameters/orgId"
        } ],
        "requestBody" : {
          "$ref" : "#/components/requestBodies/addthreadjson"
        },
        "responses" : {
          "422" : {
            "$ref" : "../common/Common.json#/components/responses/invalidDataErrorResponse"
          },
          "200" : {
            "$ref" : "#/components/responses/addthreadresponse"
          }
        },
        "security" : [ {
          "org-oauth" : [ "Desk.accessAll.ALL" ]
        }, {
          "iam-oauth2-schema" : [ "Desk.tickets.UPDATE" ]
        } ],
        "x-audience" : [ "company-internal" ],
        "x-custom-url-attribute" : {
          "security" : {
            "throttle" : {
              "inline" : [ {
                "scope" : "APPSERVER",
                "rules" : [ {
                  "duration" : 60000,
                  "lock-period" : 600000,
                  "threshold" : 100,
                  "hip" : false
                }, {
                  "duration" : 3600000,
                  "lock-period" : 1800000,
                  "threshold" : 1000,
                  "hip" : false
                }, {
                  "duration" : 86400000,
                  "lock-period" : 6000000,
                  "threshold" : 10000,
                  "hip" : false
                } ],
                "window" : "ROLLING",
                "key" : "url.path+user.zuid"
              } ]
            },
            "extraparams" : {
              "disable" : true,
              "ignore" : false
            },
            "authentication" : { }
          },
          "clan-group" : "chat",
          "apihash" : "3324429e765df16916a3537aa955018f",
          "module-group" : "chat",
          "apimethod" : "com.zoho.support.restapi.ChatService.addThread"
        }
      }
    }
  },
  "components" : {
    "responses" : {
      "chatresponsejson" : {
        "description" : "chatresponsejson template definitions",
        "content" : {
          "application/json" : {
            "schema" : {
              "additionalProperties" : false,
              "allOf" : [ {
                "$ref" : "./Ticket.json#/components/schemas/ticketResponse"
              }, {
                "type" : [ "null", "object" ],
                "properties" : {
                  "threadId" : {
                    "type" : [ "string", "null", "integer" ],
                    "format" : "int64",
                    "pattern" : "([0-9]+)"
                  },
                  "channelRelatedInfo" : {
                    "$ref" : "./Ticket.json#/components/schemas/channelRelatedInfo"
                  },
                  "contactId" : {
                    "type" : [ "string", "null", "integer" ],
                    "format" : "int64",
                    "pattern" : "([0-9]+)",
                    "x-custom-parameters-attributes" : {
                      "removeExif" : false,
                      "filterMatchedContent" : false,
                      "antivirus" : false,
                      "replacementString" : "",
                      "allowInvalid" : false,
                      "descrption" : "ID of the contact who raised the ticket",
                      "secret" : false,
                      "preserveCharsLimit" : 10,
                      "trim" : false,
                      "internalParam" : false,
                      "preserveChars" : "0,5",
                      "importUrl" : false,
                      "decrypt" : false,
                      "entity" : "Contacts"
                    }
                  },
                  "assignee" : {
                    "$ref" : "./Ticket.json#/components/schemas/assignee"
                  },
                  "sharedDepartments" : {
                    "$ref" : "./Ticket.json#/components/schemas/sharedDepartmentsWithNameArr"
                  },
                  "layoutId" : {
                    "type" : [ "string", "null", "integer" ],
                    "format" : "int64",
                    "pattern" : "([0-9]+)",
                    "x-custom-parameters-attributes" : {
                      "removeExif" : false,
                      "filterMatchedContent" : false,
                      "antivirus" : false,
                      "replacementString" : "",
                      "allowInvalid" : false,
                      "descrption" : "Layout of Ticket",
                      "secret" : false,
                      "preserveCharsLimit" : 10,
                      "trim" : false,
                      "internalParam" : true,
                      "preserveChars" : "0,5",
                      "importUrl" : false,
                      "decrypt" : false
                    }
                  }
                },
                "required" : [ "assignee", "channelRelatedInfo", "contactId", "layoutId", "sharedDepartments", "threadId" ]
              } ]
            },
            "examples" : {
              "Valid responses Definitions" : {
                "value" : {
                  "modifiedTime" : 1466513404000,
                  "ticketNumber" : "773",
                  "subCategory" : "Sub General",
                  "statusType" : "Open",
                  "subject" : "Real Time analysis Requirement",
                  "customFields" : {
                    "secondaryEmail" : null,
                    "ModelName" : "F3 2017",
                    "severityPercentage" : "0.0",
                    "phone" : null,
                    "numberOfItems" : null,
                    "dateofPurchase" : null,
                    "permanentAddress" : null,
                    "url" : null
                  },
                  "dueDate" : 1466535004573,
                  "departmentId" : "1892000000006907",
                  "channel" : "Email",
                  "onholdTime" : null,
                  "description" : "Hai This is description",
                  "resolution" : null,
                  "sharedDepartments" : [ ],
                  "closedTime" : null,
                  "sharedCount" : "0",
                  "approvalCount" : "0",
                  "timeEntryCount" : "0",
                  "channelRelatedInfo" : null,
                  "isDeleted" : "false",
                  "isTrashed" : false,
                  "createdTime" : 1466513404000,
                  "id" : "1892000001054003",
                  "email" : "carol@zylker.com",
                  "customerResponseTime" : 1383564067912,
                  "productId" : null,
                  "contactId" : "1892000000042032",
                  "threadCount" : "1",
                  "priority" : "High",
                  "classification" : null,
                  "assigneeId" : "1892000000056007",
                  "commentCount" : "0",
                  "taskCount" : "0",
                  "phone" : "1 888 900 9646",
                  "webUrl" : "https://desk.zoho.com/support/zylker/ShowHomePage.do#Cases/dv/d126330fb061247d9ebddaeb9d93ba74750b0284bc703b38",
                  "attachmentCount" : "0",
                  "category" : "general",
                  "status" : "Open"
                }
              }
            }
          }
        },
        "x-custom-response-attributes" : {
          "disable-safe-headers" : "[]"
        }
      },
      "addthreadresponse" : {
        "description" : "addthreadresponse template definitions",
        "content" : {
          "application/json" : {
            "schema" : {
              "type" : [ "null", "object" ],
              "additionalProperties" : false,
              "properties" : {
                "threadId" : {
                  "type" : [ "string", "null", "integer" ],
                  "format" : "int64",
                  "pattern" : "([0-9]+)"
                }
              },
              "required" : [ "threadId" ]
            },
            "examples" : {
              "Valid responses Definitions" : {
                "value" : {
                  "threadId" : "123123123123"
                }
              }
            }
          }
        },
        "x-custom-response-attributes" : {
          "disable-safe-headers" : "[]"
        }
      }
    },
    "parameters" : {
      "ticketId" : {
        "name" : "ticketId",
        "in" : "path",
        "required" : true,
        "style" : "simple",
        "explode" : false,
        "schema" : {
          "type" : [ "string", "null", "integer" ],
          "format" : "int64",
          "pattern" : "([0-9]+)"
        }
      }
    },
    "requestBodies" : {
      "chatrequestjson" : {
        "content" : {
          "application/json" : {
            "schema" : {
              "additionalProperties" : false,
              "allOf" : [ {
                "$ref" : "./Ticket.json#/components/schemas/addRequestJsonForChat"
              }, {
                "type" : [ "null", "object" ],
                "properties" : {
                  "encryptedChatId" : {
                    "type" : [ "string", "null" ],
                    "description" : "Unique Chat ID",
                    "maxLength" : 100,
                    "minLength" : 0
                  },
                  "isActiveChat" : {
                    "type" : [ "boolean", "null" ],
                    "description" : "Online chat or Missed chat"
                  }
                }
              }, {
                "type" : "object",
                "required" : [ "contactId", "departmentId", "encryptedChatId", "status", "subject" ]
              } ]
            },
            "examples" : {
              "Valid requestBody Definitions" : {
                "value" : {
                  "subCategory" : "Sub General",
                  "productId" : "",
                  "contactId" : "1892000000042032",
                  "subject" : "Real Time analysis Requirement",
                  "customFields" : {
                    "secondaryEmail" : null,
                    "ModelName" : "F3 2017",
                    "severityPercentage" : "0.0",
                    "phone" : null,
                    "numberOfItems" : null,
                    "dateofPurchase" : null,
                    "permanentAddress" : null,
                    "url" : null
                  },
                  "dueDate" : 1466525776000,
                  "departmentId" : "1892000000006907",
                  "channel" : "Email",
                  "description" : "Hai This is Description",
                  "priority" : "High",
                  "classification" : "",
                  "assigneeId" : "1892000000056007",
                  "phone" : "1 888 900 9646",
                  "category" : "general",
                  "email" : "carol@zylker.com",
                  "status" : "Open"
                }
              }
            }
          }
        },
        "x-custom-request-body-attributes" : {
          "non-empty" : false,
          "allow-invalid" : false
        }
      },
      "updatethreadjson" : {
        "content" : {
          "application/json" : {
            "schema" : {
              "type" : [ "null", "object" ],
              "additionalProperties" : false,
              "properties" : {
                "content" : {
                  "type" : [ "string", "null" ],
                  "maxLength" : 100,
                  "minLength" : 0,
                  "x-custom-parameters-attributes" : {
                    "xss" : "antisamyfilter"
                  }
                },
                "isActiveChat" : {
                  "type" : [ "boolean", "null" ]
                }
              }
            },
            "examples" : {
              "Valid requestBody Definitions" : {
                "value" : {
                  "attachmentIds" : [ "1312123141313" ],
                  "content" : "This is the sample content of the threads",
                  "isActiveChat" : "true"
                }
              }
            }
          }
        },
        "x-custom-request-body-attributes" : {
          "non-empty" : false,
          "allow-invalid" : false
        }
      },
      "addthreadjson" : {
        "content" : {
          "application/json" : {
            "schema" : {
              "type" : [ "null", "object" ],
              "additionalProperties" : false,
              "properties" : {
                "encryptedChatId" : {
                  "type" : [ "string", "null" ],
                  "maxLength" : 100,
                  "minLength" : 0
                },
                "description" : {
                  "type" : [ "string", "null" ],
                  "maxLength" : 100,
                  "minLength" : 0,
                  "x-custom-parameters-attributes" : {
                    "xss" : "antisamyfilter"
                  }
                },
                "email" : {
                  "type" : [ "string", "null" ],
                  "maxLength" : 150,
                  "minLength" : 0,
                  "pattern" : "^[a-zA-Z0-9\\_]([a-zA-Z0-9\\_\\+\\-\\.\\'\\&\\~]*)@(?=.{4,256}$)(([a-zA-Z0-9]+)(([\\-\\_]*[a-zA-Z0-9])*)[\\.])+[a-zA-Z]{2,22}$"
                },
                "isActiveChat" : {
                  "type" : [ "boolean", "null" ]
                }
              },
              "required" : [ "description", "email", "encryptedChatId", "isActiveChat" ]
            },
            "examples" : {
              "Valid requestBody Definitions" : {
                "value" : {
                  "encryptedChatId" : "123123abcd133a",
                  "description" : "This is the sample description of the threads",
                  "email" : "test@zylker.com",
                  "isActiveChat" : "true"
                }
              }
            }
          }
        },
        "x-custom-request-body-attributes" : {
          "non-empty" : false,
          "allow-invalid" : false
        }
      }
    },
    "securitySchemes" : {
      "cookie-auth" : {
        "$ref" : "../common/Common.json#/components/securitySchemes/cookie-auth"
      },
      "org-oauth" : {
        "$ref" : "../common/Common.json#/components/securitySchemes/org-oauth"
      },
      "iam-oauth2-schema" : {
        "$ref" : "../common/Common.json#/components/securitySchemes/iam-oauth2-schema"
      }
    }
  },
  "x-entity" : "ChatTicket"
}